<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的音乐播放器</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Tailwind 配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#4080FF',
                        accent: '#0FC6C2',
                        dark: '#1D2129',
                        light: '#F8FAFC', // 浅色背景基调
                        muted: '#86909C',
                        glass: 'rgba(255, 255, 255, 0.7)', // 毛玻璃背景色
                    },
                    fontFamily: {
                        inter: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    backdropBlur: {
                        'strong': '20px', // 增强毛玻璃模糊度
                    }
                }
            }
        }
    </script>
    
    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .vinyl-rotate {
                animation: rotate 20s linear infinite;
            }
            .vinyl-rotate.paused {
                animation-play-state: paused;
            }
            .backdrop-blur {
                backdrop-filter: blur(12px);
                -webkit-backdrop-filter: blur(12px);
            }
            .bg-glass {
                background: rgba(255, 255, 255, 0.7); /* 毛玻璃背景 */
                backdrop-filter: blur(20px);
                -webkit-backdrop-filter: blur(20px);
            }
            .text-shadow {
                text-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* 浅色背景下的弱化阴影 */
            }
            .record-center {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 24px;
                height: 24px;
                background-color: #1D2129;
                border-radius: 50%;
                z-index: 10;
            }
            .record-groove {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 80%;
                height: 80%;
                border: 1px dashed rgba(0, 0, 0, 0.1); /* 浅色背景下的唱片纹路 */
                border-radius: 50%;
                z-index: 5;
            }
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* 基础样式 */
        body {
            overflow-x: hidden;
            background-color: #F8FAFC; /* 浅色背景 */
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(22, 93, 255, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 80% 70%, rgba(15, 198, 194, 0.05) 0%, transparent 20%);
            background-attachment: fixed;
        }
        
        /* 背景图片容器 (浅色模式下改为半透明渐变) */
        .bg-container {
            display: none; /* 隐藏原背景图片 */
        }
        
        /* 毛玻璃装饰层 */
        .glass-decoration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0.1) 100%);
            backdrop-filter: blur(30px);
            z-index: -1;
        }
    </style>
</head>
<body class="font-inter text-dark min-h-screen flex flex-col items-center justify-center p-4">
    <!-- 毛玻璃装饰层 -->
    <div class="glass-decoration"></div>
    
    <!-- 页面标题 -->
    <h1 class="text-[clamp(1.5rem,5vw,2.5rem)] font-bold text-primary mb-6 text-center text-shadow z-10">
        🎵 我的音乐播放器
    </h1>
    
    <!-- 播放器主体 -->
    <div class="w-full max-w-md bg-glass rounded-2xl shadow-[0_10px_30px_rgba(0,0,0,0.1)] overflow-hidden transition-all duration-300 hover:shadow-md z-10">
        <!-- 专辑封面 - 圆形唱片效果 -->
        <div class="relative aspect-square overflow-hidden bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center">
            <div class="absolute inset-0 record-groove"></div>
            <img id="album-cover" src="https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_5.jpg?max_age=2592000" alt="专辑封面" class="w-[85%] h-[85%] object-cover vinyl-rotate paused rounded-full shadow-[0_0_20px_rgba(0,0,0,0.1)] z-5">
            <div class="record-center"></div>
            <!-- 播放/暂停按钮叠加在封面中央 -->
            <button id="play-pause-big" class="absolute inset-0 flex items-center justify-center bg-black/10 opacity-0 hover:opacity-100 transition-opacity duration-300 z-10">
                <i class="fa fa-play text-primary text-5xl"></i>
            </button>
        </div>
        
        <!-- 歌曲信息 -->
        <div class="p-6">
            <h2 id="song-title" class="text-xl font-bold text-dark mb-1 text-shadow">东风破</h2>
            <p id="song-artist" class="text-muted mb-2">周杰伦</p>
            
            <!-- 播放进度条 -->
            <div class="flex items-center justify-between mb-4">
                <span id="current-time" class="text-sm text-muted">00:00</span>
                <div class="flex-1 h-1 bg-gray-200 rounded-full overflow-hidden cursor-pointer" id="progress-container">
                    <div class="h-full w-0 bg-primary rounded-full transition-all duration-100" id="progress-bar"></div>
                </div>
                <span id="total-time" class="text-sm text-muted">00:00</span>
            </div>
            
            <!-- 音量控制 -->
            <div class="flex items-center gap-3 mb-6">
                <button id="mute" class="text-muted hover:text-primary transition-colors">
                    <i class="fa fa-volume-up"></i>
                </button>
                <div class="flex-1 h-1 bg-gray-200 rounded-full overflow-hidden cursor-pointer" id="volume-container">
                    <div class="h-full w-3/4 bg-primary rounded-full transition-all duration-100" id="volume-bar"></div>
                </div>
            </div>
            
            <!-- 控制按钮 -->
            <div class="flex items-center justify-center gap-6 mb-2">
                <button id="play-pause" class="w-14 h-14 rounded-full bg-primary text-white flex items-center justify-center shadow-lg hover:bg-secondary transition-all duration-300">
                    <i class="fa fa-play text-2xl"></i>
                </button>
            </div>
            
            <!-- 提示信息 -->
            <p class="text-xs text-muted text-center mt-4">
                <i class="fa fa-info-circle mr-1"></i> 点击播放按钮开始音乐
            </p>
        </div>
    </div>
    
    <!-- 页脚 -->
    <footer class="mt-8 text-center text-muted text-sm z-10">
        <p>我的音乐播放器 © 2023</p>
    </footer>
    
    <!-- 音频元素 -->
    <audio id="audio-player" loop="">
        <source src="https://s19.aconvert.com/convert/p3r68-cdx67/lqpg6-94src.mp3" type="audio/mpeg">
    </audio>
    
    <!-- 消息提示 -->
    <div id="toast" class="fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-dark/90 text-white px-4 py-2 rounded-lg opacity-0 transition-opacity duration-300 z-50"></div>
    
    <script>
        // 获取DOM元素
        const audioPlayer = document.getElementById('audio-player');
        const playPauseBtn = document.getElementById('play-pause');
        const playPauseBigBtn = document.getElementById('play-pause-big');
        const volumeBar = document.getElementById('volume-bar');
        const volumeContainer = document.getElementById('volume-container');
        const muteBtn = document.getElementById('mute');
        const albumCover = document.getElementById('album-cover');
        const toast = document.getElementById('toast');
        const progressBar = document.getElementById('progress-bar');
        const progressContainer = document.getElementById('progress-container');
        const currentTimeEl = document.getElementById('current-time');
        const totalTimeEl = document.getElementById('total-time');
        
        // 设置默认音乐
        audioPlayer.src = 'https://s19.aconvert.com/convert/p3r68-cdx67/lqpg6-94src.mp3';
        
        // 显示提示消息
        function showToast(message, type = 'info') {
            toast.textContent = message;
            
            // 设置提示类型样式
            if (type === 'success') {
                toast.classList.remove('bg-dark/90');
                toast.classList.add('bg-green-600');
            } else if (type === 'error') {
                toast.classList.remove('bg-dark/90');
                toast.classList.add('bg-red-600');
            } else {
                toast.classList.remove('bg-green-600', 'bg-red-600');
                toast.classList.add('bg-dark/90');
            }
            
            // 显示提示
            toast.classList.remove('opacity-0');
            toast.classList.add('opacity-100');
            
            // 3秒后隐藏
            setTimeout(() => {
                toast.classList.remove('opacity-100');
                toast.classList.add('opacity-0');
            }, 3000);
        }
        
        // 格式化时间为 mm:ss 格式
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }
        
        // 更新进度条和时间显示
        function updateProgress() {
            if (audioPlayer.duration > 0) {
                // 计算进度百分比
                const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                progressBar.style.width = `${progress}%`;
                
                // 更新时间显示
                currentTimeEl.textContent = formatTime(audioPlayer.currentTime);
                totalTimeEl.textContent = formatTime(audioPlayer.duration);
            }
        }
        
        // 设置音量
        function setVolume(e) {
            const width = volumeContainer.clientWidth;
            const clickX = e.offsetX;
            const volume = clickX / width;
            
            audioPlayer.volume = volume;
            volumeBar.style.width = `${volume * 100}%`;
            
            // 更新静音图标
            if (volume === 0) {
                muteBtn.innerHTML = '<i class="fa fa-volume-off"></i>';
            } else if (volume < 0.5) {
                muteBtn.innerHTML = '<i class="fa fa-volume-down"></i>';
            } else {
                muteBtn.innerHTML = '<i class="fa fa-volume-up"></i>';
            }
        }
        
        // 切换静音
        function toggleMute() {
            if (audioPlayer.volume > 0) {
                audioPlayer.volume = 0;
                volumeBar.style.width = '0%';
                muteBtn.innerHTML = '<i class="fa fa-volume-off"></i>';
            } else {
                audioPlayer.volume = 0.75; // 默认音量
                volumeBar.style.width = '75%';
                muteBtn.innerHTML = '<i class="fa fa-volume-up"></i>';
            }
        }
        
        // 切换播放/暂停
        function togglePlayPause() {
            if (audioPlayer.paused) {
                audioPlayer.play().catch(error => {
                    console.log('播放被阻止:', error);
                    showToast('由于浏览器限制，需要先点击播放按钮', 'info');
                });
                playPauseBtn.innerHTML = '<i class="fa fa-pause text-2xl"></i>';
                playPauseBigBtn.innerHTML = '<i class="fa fa-pause text-primary text-5xl"></i>';
                albumCover.classList.remove('paused');
            } else {
                audioPlayer.pause();
                playPauseBtn.innerHTML = '<i class="fa fa-play text-2xl"></i>';
                playPauseBigBtn.innerHTML = '<i class="fa fa-play text-primary text-5xl"></i>';
                albumCover.classList.add('paused');
            }
        }
        
        // 点击进度条跳转播放位置
        function seekToPosition(e) {
            const width = progressContainer.clientWidth;
            const clickX = e.offsetX;
            const seekTime = (clickX / width) * audioPlayer.duration;
            
            audioPlayer.currentTime = seekTime;
        }
        
        // 事件监听
        playPauseBtn.addEventListener('click', togglePlayPause);
        playPauseBigBtn.addEventListener('click', togglePlayPause);
        volumeContainer.addEventListener('click', setVolume);
        muteBtn.addEventListener('click', toggleMute);
        progressContainer.addEventListener('click', seekToPosition);
        
        // 进度更新监听
        audioPlayer.addEventListener('timeupdate', updateProgress);
        audioPlayer.addEventListener('loadedmetadata', updateProgress);
        
        // 初始化播放器
        audioPlayer.volume = 0.75; // 默认音量
    </script>
</body>
</html>
